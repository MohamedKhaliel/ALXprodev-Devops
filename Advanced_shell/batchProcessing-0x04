#!/bin/bash

POKEMONS=("Bulbasaur" "Ivysaur" "Venusaur" "Charmander" "Charmeleon")

# Trap to kill all background processes if script exits
trap "echo 'Cleaning up...'; kill 0" EXIT

for pokemon in "${POKEMONS[@]}"; do
    (
        echo "Fetching data for $pokemon..."
        curl -s "https://pokeapi.co/api/v2/pokemon/${pokemon,,}" -o "${pokemon,,}.json" \
        || echo "Failed to fetch data for $pokemon"
    ) &
done

# Wait for all background processes to finish
wait
echo "All downloads complete."
